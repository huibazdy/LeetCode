# 823 consecutiveNumbersSum

【困难】（HW 笔试题，找出数量最小的组合）

给定一个正整数 n ，返回连续正整数满足它们的和是 n 的组数。

![image-20231225163712933](https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/image-20231225163712933.png)

> 注意：数字 n 本身也算是一种连续正整数的情况





> 初步分析

暴力法不可行。通过数学方法缩小遍历范围。

如果存在这样的连续整数序列，描述它们需要两个参数，分别是起点整数值`s`以及整数序列项数为`L`。那么这个连续整数序列的尾项是`s + L - 1`，根据等差数列的求和公式可以得出它们的和可以表示为：`(2s+L-1)*L/2`，若满足和为 n ，则可以解出 s 的值为：`(2n - L(L-1))/2L`，又根据 `s >= 1`，可以得出：`2n >= L(L-1)`我们需要遍历的范围是。

根据等差数列的求和公式，首项：`s`，末项：`s + L - 1`，项数：`L`，根据和为 n 可以得出：
$$
2s = \frac{2n}{L}\:-\:L\:+\:1
$$
又因为 s 为正整数（大于等于1），可以得出：
$$
2s = \frac{2n}{L}\:-\:L\:+\:1\:\geq\:2
$$
此处可以看出`L`必然是`2n`的约数，		且进一步可以推出：
$$
\frac{2n}{L}\:\geq\:L\:+\:1
$$
等同于：
$$
\frac{2n}{L}\:>\:L\:\Leftrightarrow\:L\:<\:\sqrt{2n}
$$
由此可以得出



  

```c++
class Solution {
public:
    int consecutiveNumbersSum(int n) {
        int res;
    }
};
```

