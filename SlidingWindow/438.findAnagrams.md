# 483.findAnagrams

> 异位词：由相同字母序列重排后形成的字符串（包括完全相同的情况）

找到字符串中的所有异位词。

给定两个字符串`s`和`p`，找到`s`中所有`p`的异位词，并返回这些异位词子串的索引。

![image-20231223163905674](https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/image-20231223163905674.png)





> 用定长的滑动窗口来遍历 s 中的子串特，定长窗口的宽度为 p 的长度

```c++
if(s.size() < p.size())           // 若 s 长度小于 p 则不可能存在 p 的异位词
    return {};

int winWidth = p.size();          // 窗口长度
int winL = 0;                     // 窗口左边界
int winR = windL + winWidth - 1;  // 窗口右边界

//开始遍历
while(winL < s.size() && winR < s.size()) {
    ...
}
```

> 设计一个函数，用来返回窗口内 s 的子串是否为 p 的异位词。
>
> 考虑借助两个set（会自动排序） ，一个用来存储s中窗口内的子串，另一个用来存储p的所有字符，最后通过比较两个 set 是否相等来判断是否为异位词。

```c++
std::set<char> s1;
std::set<char> s2;
for(int i = winL; i <= winR; i++)
    s1.insert(s[i]);
for(int j = 0; j < p.size(); j++)
    s2.insert(p[j]);
for(auto i = s1.begin(),j = s2.begin(); i != s1.end(); i++,j++){
    if(*i != *j) {
        winL++;
        break;
    }
}
// 此时两个为异位词，左边界加入数组
res.push_back(winL);
// 继续向右滑动窗口
winL++;  
```





> 完整代码

```c++
class Solution {
public:
    vector<int> findAnagrams(string s, string p) {
        vector<int> res;
        if(s.size() < p.size())
            return {};
        int winWidth = p.size();
        int winL = 0;
        int winR =  winL + winWidth - 1;
        std::set<char> set1;
        for(int j = 0; j < p.size(); j++)
            set1.insert(p[j]);    
        while(winL < s.size() && winR < s.size()) {
            std::set<char> set2;
            for(int i = winL; i <= winR; i++)
                set2.insert(s[i]);
            
            auto iter1 = set1.begin();
            auto iter2 = set2.begin();
            int count = 0;
            while(iter1 != set1.end()){
                if(*iter1 != *iter2){
                    break;
                }else {
                    continue;
                    count++;
                }
            }
            if(count == winWidth){
                res.push_back(winL);
            }
            winL++;
            winR++;
        }
        return res;
    }
};
```





