# package problem

## 0-1 背包

> 有`N`样物品，一个背包，背包的负重上限是`W`。每样物品有中重量（`wgt[i]`）和价值（`val[i]`）属性。问题：用这个背包怎样装才能使装的东西价值最高？或者说，该背包最高能装多大价值的东西？



* `dp[i][w]`

    从前 **i** 件物品中任意选取物品装入负重上限为 **w** 的背包中，能装的最大价值。这种状态又分为两种情况：
    
    1. 第 **i** 件物品有被装入背包，可以得出：`dp[i][w] = dp[i-1][w-wgt[i-1]] + val[i-1]`
    2. 第 **i** 件物品没被装入背包，可以得出：`dp[i][w] = dp[i-1][w]`
    
    注意，重量数组`wgt[]`和价值数组`val[]`下标都是从 **0** 开始的，第 **i** 件物品的属性对应的下标都是 **i-1** 。而 dp 数组中第一个索引含义是前几个，所以是从 1 开始的。实际上求出的`dp[i][w] `应该是两种情况的较大值。
    
    注意事项：
    
    1. `w - wgt[i-1]`如果小于 0 会导致数组越界，需要单独处理：
    
        ```c++
        if(w - wgt[i-1] < 0)
            dp[i][w] = dp[i-1][w];  // 此时只能选择不将 i 放入背包



* 伪代码

    ```c++
    for(int i = 1; i <= N; i++){
        for(int w = 1; w <= W; w++){
            if(w - wgt[i-1] < 0)
                dp[i][w] = dp[i-1][w];
            else
            	dp[i][w] = max(dp[i-1][w],dp[i-1][w-wgt[i-1]] + val[i-1]);
        }
    }
    return dp[N][W];



## 完全背包

当每个物品的数量都是无限（意味着每个物品可以多次放入背包）的时候，问题就变成了完全背包问题。



### 322.零钱兑换

给定一个整数数组`coins`，表示不同面额硬币；以及一个整数`amount`表示总金额。计算并返回可以凑成总金额所需的最少硬币个数。如果没有任何一组硬币组合能组成总金额，返回 -1 。每种硬币的数量是无限的。

![image-20240109152459605](https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/image-20240109152459605.png)



#### 子问题

`dp[i]`：凑成总金额为 i 的最少硬币数为 dp[i]

那么子问题是什么呢？

子问题就是缩小目标的规模，也就是减小 i ，减小存在的硬币面值：`dp[i - coins[j]]`。

#### 状态转移

这样一来，其实可以得出：`dp[i] = dp[i - coins[j]] + 1`，因为确认了前一个子问题，数量上只需要加上一个面值的硬币就可以满足总金额为 i 。所以实际上等式右边取最小值就可以得到`dp[i]`。综上：
$$
dp[i]\:=\:min(dp[i-coins[j]]+1)
$$
其中 j 的取值范围是：`[0,coins.size()-1]`，也就是硬币面值数组的下标范围。



#### DP 数组

【**边界条件**】

* 总金额`i`的取值范围：`[0, amount]`
* 数组元素`dp[i]`取值范围：`[0, amount]`，其中面值只有 1 的情况下就可以取到数量为 amount 。所以 dp 数组的长度应该为 `amount + 1`。

【**初始化**】

* **`dp[0] = 0`**

    总金额为 0 （题目规定 amount 可以为 0 ），所以需要的硬币数一定是 0 （因为没有面值为 0 的硬币）。





## 参考资料

1. [代码随想录](https://programmercarl.com/0322.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2.html#%E6%80%9D%E8%B7%AF)
2. [labuladong](https://labuladong.github.io/algo/di-er-zhan-a01c6/bei-bao-le-34bd4/jing-dian--28f3c/#%E5%8A%A8%E8%A7%84%E6%A0%87%E5%87%86%E5%A5%97%E8%B7%AF)